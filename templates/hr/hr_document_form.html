{% extends "base/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}

  <div class="card shadow-sm">
    <div class="card-header bg-light">
      <h4 class="mb-0">
        {% if document %}
          Edit Document
        {% else %}
          Create New Document
        {% endif %}
      </h4>
    </div>

    <div class="card-body">
      <!-- Display success/error messages from Django's messages framework -->
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}" role="alert">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}

      <!-- Display form errors if any -->
      {% if form.errors %}
        <div class="alert alert-danger" role="alert">
          Please correct the errors below.
        </div>
      {% endif %}

      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form|crispy }}

        <div class="mt-3 text-right">
          <button type="submit" class="btn btn-primary">
            {% if document %}Update{% else %}Create{% endif %}
          </button>
          <a href="{% url 'hr_document_list' %}" class="btn btn-secondary ml-2">
            Cancel
          </a>
        </div>
      </form>
    </div>
  </div>

{% endblock %}
